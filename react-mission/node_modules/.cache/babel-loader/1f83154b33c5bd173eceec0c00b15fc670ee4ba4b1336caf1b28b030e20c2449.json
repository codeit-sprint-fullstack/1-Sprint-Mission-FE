{"ast":null,"code":"var _jsxFileName = \"/root/1-Sprint-Mission-FE/react-mission/src/components/SaleProduct.js\",\n  _s = $RefreshSig$();\nimport './SaleProductStyle.css';\nimport { useState, useEffect } from \"react\";\nimport Pagination from \"react-js-pagination\"; //라이브러리 다운 받았습니다\nimport ProductCard from \"./ProductCard\";\nimport SearchForm from './SearchForm';\nimport Registration from './Registration';\nimport OrderChange from './OrderChange';\nimport api from \"./api\";\nimport searchIcon from './img/searchIcon.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SaleProduct() {\n  _s();\n  const [items, setItems] = useState([]);\n  const [logingError, setLodingError] = useState(null);\n  const [logingErrorTag, setLodingErrorTag] = useState(false);\n  const [order, setOrder] = useState('recent');\n  const [orderName, setOrderName] = useState('최신순');\n  const [search, setSeaerch] = useState('');\n  const [productSearch, setProductSearch] = useState('');\n  const [page, setPage] = useState(1);\n  const [total, setTotal] = useState(0);\n  const handleItemList = async params => {\n    try {\n      setLodingError(null);\n      setLodingErrorTag(false);\n      const {\n        totalCount,\n        list\n      } = await api(params);\n      setItems(list);\n      setTotal(totalCount);\n    } catch (e) {\n      setLodingError(e);\n      setLodingErrorTag(true);\n      return;\n    }\n  };\n\n  //첫 랜더링 시 실행\n  useEffect(() => {\n    if (productSearch === '') {\n      handleItemList({\n        orderBy: order,\n        page: page,\n        pageSize: 10\n      });\n    } else {\n      handleItemList({\n        keyword: productSearch\n      });\n      setSeaerch('');\n    }\n  }, [order, page, productSearch]);\n\n  //order 변경 함수\n  const handleOrderChange = {\n    orderChangeRecent: function () {\n      setOrder('recent');\n      setOrderName('최신순');\n    },\n    orderChangeFavorite: function () {\n      setOrder('favorite');\n      setOrderName('좋아요순');\n    }\n  };\n\n  //search input value 변경 함수 \n  const handleSearch = e => {\n    setSeaerch(e.target.value);\n  };\n  const keyDownSearch = e => {\n    if (e.key === 'Enter') {\n      setProductSearch(search);\n    }\n  };\n\n  //페이지 변경 함수\n  const handlePageChange = page => {\n    window.scrollTo(0, 0);\n    setPage(page);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"saleProductContaner\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"saleProductParts\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"productFont saleProductFont\",\n        children: \"\\uD310\\uB9E4 \\uC911\\uC778 \\uC0C1\\uD488\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"saleProductFrom\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"searchFromPositin\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"readingGlasses\",\n            src: searchIcon,\n            alt: \"\\uB3CB\\uBCF4\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(SearchForm, {\n            value: search,\n            onChange: handleSearch,\n            onKeyPress: keyDownSearch\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Registration, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(OrderChange, {\n          orderName: orderName,\n          onClick: handleOrderChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ProductCard, {\n      items: items,\n      variant: \"saleProduct\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      activePage: page // 현재 페이지\n      ,\n      itemsCountPerPage: 10 // 한 페이지랑 보여줄 아이템 갯수\n      ,\n      totalItemsCount: total // 총 아이템 갯수\n      ,\n      pageRangeDisplayed: 5 // paginator의 페이지 범위\n      ,\n      prevPageText: \"‹\" // \"이전\"을 나타낼 텍스트\n      ,\n      nextPageText: \"›\" // \"다음\"을 나타낼 텍스트\n      ,\n      onChange: handlePageChange // 페이지 변경을 핸들링하는 함수 \n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n}\n_s(SaleProduct, \"tavrfr2BnFI0ABOTROUgfPgyLd4=\");\n_c = SaleProduct;\nexport default SaleProduct;\nvar _c;\n$RefreshReg$(_c, \"SaleProduct\");","map":{"version":3,"names":["useState","useEffect","Pagination","ProductCard","SearchForm","Registration","OrderChange","api","searchIcon","jsxDEV","_jsxDEV","SaleProduct","_s","items","setItems","logingError","setLodingError","logingErrorTag","setLodingErrorTag","order","setOrder","orderName","setOrderName","search","setSeaerch","productSearch","setProductSearch","page","setPage","total","setTotal","handleItemList","params","totalCount","list","e","orderBy","pageSize","keyword","handleOrderChange","orderChangeRecent","orderChangeFavorite","handleSearch","target","value","keyDownSearch","key","handlePageChange","window","scrollTo","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onChange","onKeyPress","onClick","variant","activePage","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","prevPageText","nextPageText","_c","$RefreshReg$"],"sources":["/root/1-Sprint-Mission-FE/react-mission/src/components/SaleProduct.js"],"sourcesContent":["import './SaleProductStyle.css'\nimport { useState, useEffect } from \"react\";\nimport Pagination from \"react-js-pagination\"; //라이브러리 다운 받았습니다\nimport ProductCard from \"./ProductCard\";\nimport SearchForm from './SearchForm';\nimport Registration from './Registration'\nimport OrderChange from './OrderChange';\nimport api from \"./api\";\nimport searchIcon from './img/searchIcon.png'\n\nfunction SaleProduct() {\n    const [ items, setItems ] = useState([])\n    const [ logingError, setLodingError ] = useState(null)\n    const [ logingErrorTag, setLodingErrorTag] = useState(false)\n    const [ order, setOrder ] = useState('recent')\n    const [ orderName, setOrderName ] = useState('최신순')\n    const [ search, setSeaerch ] = useState('')\n    const [ productSearch, setProductSearch ] = useState('')\n    const [ page, setPage ] = useState(1);\n    const [ total, setTotal ] = useState(0)\n\n    const handleItemList = async (params) => {\n        try {\n            setLodingError(null);\n            setLodingErrorTag(false)\n            const { totalCount, list } = await api(params);\n            setItems(list);\n            setTotal(totalCount);\n        } catch(e) {\n            setLodingError(e);\n            setLodingErrorTag(true)\n            return;\n        }\n    };\n\n    //첫 랜더링 시 실행\n    useEffect(() => {\n        if(productSearch === '') {\n            handleItemList({orderBy: order, page: page, pageSize: 10});\n        } else {\n            handleItemList({keyword: productSearch});\n            setSeaerch('');\n        }\n\n    }, [order, page, productSearch])\n\n    //order 변경 함수\n    const handleOrderChange = {\n        orderChangeRecent: function() {\n            setOrder('recent');\n            setOrderName('최신순')\n        },\n\n        orderChangeFavorite: function() {\n            setOrder('favorite');\n            setOrderName('좋아요순')\n        }\n    }\n\n    //search input value 변경 함수 \n    const handleSearch = (e) => {\n        setSeaerch(e.target.value);\n    }\n\n    const keyDownSearch = (e) => {\n        if(e.key === 'Enter') {\n            setProductSearch(search);\n        }\n    }\n\n    //페이지 변경 함수\n    const handlePageChange = (page) => {\n        window.scrollTo(0, 0);\n        setPage(page);\n    };\n\n\n    return (\n        <div className='saleProductContaner'>\n            <div className='saleProductParts'>\n                <h2 className='productFont saleProductFont'>판매 중인 상품</h2>\n                <div className='saleProductFrom'>\n                    <div className='searchFromPositin'>\n                        <img className='readingGlasses' src={searchIcon} alt='돋보기'/>\n                        <SearchForm value={search} onChange={handleSearch} onKeyPress={keyDownSearch} />\n                    </div>\n                    <Registration />\n                    <OrderChange orderName={orderName} onClick={handleOrderChange}/>\n                </div>\n            </div>\n            <ProductCard items={items} variant='saleProduct' />\n            <Pagination\n                activePage={page} // 현재 페이지\n                itemsCountPerPage={10} // 한 페이지랑 보여줄 아이템 갯수\n                totalItemsCount={total} // 총 아이템 갯수\n                pageRangeDisplayed={5} // paginator의 페이지 범위\n                prevPageText={\"‹\"} // \"이전\"을 나타낼 텍스트\n                nextPageText={\"›\"} // \"다음\"을 나타낼 텍스트\n                onChange={handlePageChange} // 페이지 변경을 핸들링하는 함수 \n            />\n        </div>\n    );\n}\n\nexport default SaleProduct;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}